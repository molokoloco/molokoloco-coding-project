#summary Personnal contribution to jQuery
#labels Featured

*Au sommaire :*

----
=Center element into an other=

===USE CASE===

{{{
$('#mainDiv').center();
$(window).bind('resize', function() {
    $('#mainDiv').center({transition:300});
});
}}}

===JQUERY PLUGIN===

Source here : http://plugins.jquery.com/project/autocenter

{{{
(function($){
     $.fn.extend({
          center: function (options) {
               var options =  $.extend({ // Default values
                    inside:window, // element, center into window
                    transition: 0, // millisecond, transition time
                    minX:0, // pixel, minimum left element value
                    minY:0, // pixel, minimum top element value
                    withScrolling:true, // booleen, take care of the scrollbar (scrollTop)
                    vertical:true, // booleen, center vertical
                    horizontal:true // booleen, center horizontal
               }, options);
               return this.each(function() {
                    var props = {position:'absolute'};
                    if (options.vertical) {
                         var top = ($(options.inside).height() - $(this).outerHeight()) / 2;
                         if (options.withScrolling) top += $(options.inside).scrollTop() || 0;
                         top = (top > options.minY ? top : options.minY);
                         $.extend(props, {top: top+'px'});
                    }
                    if (options.horizontal) {
                          var left = ($(options.inside).width() - $(this).outerWidth()) / 2;
                          if (options.withScrolling) left += $(options.inside).scrollLeft() || 0;
                          left = (left > options.minX ? left : options.minX);
                          $.extend(props, {left: left+'px'});
                    }
                    if (options.transition > 0) $(this).animate(props, options.transition);
                    else $(this).css(props);
                    return $(this);
               });
          }
     });
})(jQuery);

$('#myDiv').center();

}}}

===SHORT VERSION===

{{{
(function($){
     $.fn.extend({
          center: function () {
		return this.each(function() {
			var top = ($(window).height() - $(this).outerHeight()) / 2;
			var left = ($(window).width() - $(this).outerWidth()) / 2;
			$(this).css({position:'absolute', margin:0, top: (top > 0 ? top : 0)+'px', left: (left > 0 ? left : 0)+'px'});
		});
	}
     });
})(jQuery);

$('#myDiv').center();
}}}


===VERY SHORT VERSION===

{{{
$('#myDiv').css({top:'50%',left:'50%',margin:'-'+($('#myDiv').height() / 2)+'px 0 0 -'+($('#myDiv').width() / 2)+'px'});
}}}

----

= Add Or Switch Stylesheet =

Ressources :
  * Source here : http://home.b2bweb.fr/js/jquery.style.js
  * Official : http://plugins.jquery.com/project/AddOrSwitchStylesheet
  * Use cookie manager from : http://plugins.jquery.com/project/cookie

Plugin who load (at the first demand) and switch stylesheet, with cookie :
  * Manage links to change style
  * Add stylesheet to head if not exist
  * If already exist, switch style with the disabled attribute
  * Prevent changing styles who are not related to theme : No modification on styles without id attribute
  * Prevent changing other styles who are not related to theme
  * Stock and autoload user style preference, with a cookie

===HTML===

{{{
<head>
     <link rel="stylesheet" type="text/css" media="all" href="css/styles.css" id="themeDefault"/>
     ...
</head>
<body>
<div>
     <ul>
          <li><a href="javascript:void(0);" rel="css/styles.css" class="css">Original</a></li>
          <li><a href="javascript:void(0);" rel="css/style_light.css" class="css">Blanc</a></li>
          <li><a href="javascript:void(0);" rel="css/style_dark.css" class="css">Sombre</a></li>
     </ul>
</div>
</body>
}}}

===JQUERY PLUGIN===

{{{
(function($){
     $.fn.extend({
          styleDisable: function (disabled) {
               setTimeout(function () {
                    $(disabled).each(function () {
                         $(this).attr('disabled', 'disabled');
                    });
               }, 250);
          },
          styleLoad: function (stylePath) {
               $('head').append('<link rel="stylesheet" type="text/css" href="' + stylePath + '" id="theme' + Math.random() + '"/>');
          },
          styleSwitch: function (stylePath) {
               var exist = false;
               var disabled = [];
               $('link[@rel*=style][id]').each(function () {
                    if (stylePath == $(this).attr('href')) {
                         $(this).removeAttr('disabled');
                         exist = true;
                    }
                    else disabled.push(this);
               });
               if (exist == false) $.fn.styleLoad(stylePath);
               $.fn.styleDisable(disabled);
               $.cookie('css', stylePath, {
                    expires: 365,
                    path: '/'
               });
          },
          styleInit: function () {
               if ($.cookie('css')) {
                    var isSet = false;
                    $('link[rel*=style][id]').each(function () {
                         if ($.cookie('css') == $(this).attr('href')) isSet = true;
                    });
                    if (isSet == false) $.fn.styleSwitch($.cookie('css'));
               }
               return $(this).click(function (event) {
                    event.preventDefault();
                    $.fn.styleSwitch($(this).attr('rel'));
                    $(this).blur();
               });
          }
     });
})(jQuery);

// $('a.css').styleInit(); // That it's :)

}}}

----

=Select a text range (input/textarea)=

===USE CASE===

{{{
$('#q').selectRange(0, 10);
$('#q').selectRange(searchVal.indexOf('{'), (searchVal.indexOf('}')+1));
}}}

===JQUERY PLUGIN===

Source here : http://plugins.jquery.com/project/selectRange

{{{
$.fn.selectRange = function(start, end) {
    var e = document.getElementById($(this).attr('id')); // I don't know why... but $(this) don't want to work today :-/
    if (!e) return;
    else if (e.setSelectionRange) { e.focus(); e.setSelectionRange(start, end); } /* WebKit */ 
    else if (e.createTextRange) { var range = e.createTextRange(); range.collapse(true); range.moveEnd('character', end); range.moveStart('character', start); range.select(); } /* IE */
    else if (e.selectionStart) { e.selectionStart = start; e.selectionEnd = end; }
};
}}}

----

=Get browser specific CSS style name properties=

===USE CASE===

{{{
var cssTransform = cssPrefix('transform');
$('#myDiv').css({cssTransform:'rotate(20deg)'}); // How it's possible that jQuery don't get it ? o_O
document.getElementById('myDiv').style[cssTransform] = 'rotate(20deg)'; // Ok

document.getElementById('myDiv').style[cssPrefix('border-radius')] = '5px'; // Ok
}}}

===JQUERY "ADD-ON"...===

{{{
String.prototype.camelize = function() {
    var tmp = '';
    var words = this.split('-');
    for (var i in words) tmp += words[i].toLowerCase().charAt(0).toUpperCase() + words[i].slice(1);
    return tmp;
};

var cssPrefixString = null;
var cssPrefix = function(propertie) {
    if (cssPrefixString !== null) return cssPrefixString + propertie.camelize();
    var e = document.createElement('div');
    var prefixes = ['', 'Moz', 'Webkit', 'O', 'ms', 'Khtml']; // Various supports...
    for (var i in prefixes) {
        if ((i == 0 && typeof e.style[propertie] != 'undefined') || typeof e.style[prefixes[i] + propertie.camelize()] != 'undefined') {
            cssPrefixString = prefixes[i];
            return prefixes[i] + propertie.camelize();
        }
    }
    return false;
};

}}}